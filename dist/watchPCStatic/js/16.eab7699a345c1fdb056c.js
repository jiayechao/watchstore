webpackJsonp([16],{LO0P:function(t,e){},"uPx/":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){var t=this;return{form:{mobile:"",captcha:"",regCode:"",password:"",p:"",checkPass:"",checkProtocol:[]},rules:{mobile:[{validator:function(t,e,o){""===e?o(new Error("请输入手机号")):/^1[34578]\d{9}$/.test(e)?o():o(new Error("请输入真实的手机号"))},type:"number",trigger:"blur"}],captcha:[{validator:function(t,e,o){""===e?o(new Error("请输入右侧验证码")):/^\w{4}$/.test(e)?o():o(new Error("验证码只能是四位数字和字母"))},trigger:"blur"}],regCode:[{required:!0,message:"请输入验证码",trigger:"blur"}],password:[{validator:function(e,o,s){""===o?s(new Error("请输入密码")):(""!==t.form.checkPass&&t.$refs.form.validateField("checkPass"),/^.{6,12}$/.test(o)?s():s(new Error("密码必须为6~12位")))},trigger:"blur"}],checkPass:[{validator:function(e,o,s){""===o?s(new Error("请再次输入密码")):o!==t.form.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],checkProtocol:[{required:!0,message:"请确认查看用户协议",trigger:"change"}]},captcha_url:"/wristwatch/wat/getValidateCode?platform=5&t="+Date.now()}},methods:{againValidate:function(){this.captcha_url="/wristwatch/wat/getValidateCode?platform=5&t="+Date.now()},showProtocol:function(){},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(console.log(e),!e)return console.log("error submit!!"),!1;console.log(e),t.form.p=t.$md5(t.form.password),console.log(t.form.p),t.$fetchPost({url:t.$api.MOBILE_REGISTER,data:t.form}).then(function(e){t.$message({message:"注册成功，即将跳转到首页",type:"success"}),t.$tools.setItem("userInfo",e.data,!0),setTimeout(function(){this.$router.push("/")},3e3)})})},getRegisterCode:function(){var t=this,e=!0;this.$refs.form.validateField("mobile",function(t){t&&(e=!1)}),this.$refs.form.validateField("captcha",function(t){t&&(e=!1)}),e&&this.$fetchPost({url:this.$api.GET_REGISTER_CODE,data:{mobile:this.form.mobile,validateCode:this.form.captcha}}).then(function(e){console.log(e),t.$message.error(e.msg)})}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-wrap"},[o("el-form",{ref:"form",staticClass:"sign-form signup-form",attrs:{rules:t.rules,model:t.form,"label-width":"22px"}},[o("p",{staticClass:"title"},[t._v("注册账号")]),t._v(" "),o("el-form-item",{attrs:{prop:"mobile"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"my"}})],1),t._v(" "),o("el-input",{attrs:{type:"tel",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),o("div",{staticClass:"inline-wrap"},[o("el-form-item",{staticClass:"inline-item",attrs:{prop:"captcha"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"yanzhengma"}})],1),t._v(" "),o("el-input",{attrs:{placeholder:"请输入右侧验证码"},model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}})],1),t._v(" "),o("img",{staticClass:"captcha fr",attrs:{src:t.captcha_url,alt:"验证码"},on:{click:t.againValidate}})],1),t._v(" "),o("div",{staticClass:"inline-wrap"},[o("el-form-item",{staticClass:"inline-item",attrs:{prop:"regCode"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("i",{staticClass:"el-icon-edit-outline"})]),t._v(" "),o("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:t.form.regCode,callback:function(e){t.$set(t.form,"regCode",e)},expression:"form.regCode"}})],1),t._v(" "),o("el-button",{staticClass:"register-code custom-bg fr",attrs:{type:"primary"},on:{click:t.getRegisterCode}},[t._v("发送验证码")])],1),t._v(" "),o("el-form-item",{attrs:{prop:"password"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"unlock"}})],1),t._v(" "),o("el-input",{attrs:{type:"password",placeholder:"请输入6~12位密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),o("el-form-item",{staticClass:"checkPass",attrs:{prop:"checkPass"}},[o("span",{attrs:{slot:"label"},slot:"label"},[o("svg-icon",{attrs:{"icon-class":"lock"}})],1),t._v(" "),o("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.form.checkPass,callback:function(e){t.$set(t.form,"checkPass",e)},expression:"form.checkPass"}})],1),t._v(" "),o("el-form-item",{staticClass:"protocol",attrs:{prop:"checkProtocol"}},[o("el-checkbox-group",{model:{value:t.form.checkProtocol,callback:function(e){t.$set(t.form,"checkProtocol",e)},expression:"form.checkProtocol"}},[o("el-checkbox",{staticClass:"has_checked",attrs:{name:"type"}}),o("span",{},[t._v("我已看过并介绍《"),o("a",{attrs:{href:"javascript:;"},on:{click:t.showProtocol}},[t._v("用户协议")]),t._v("》")])],1)],1),t._v(" "),o("el-button",{staticClass:"signup custom-bg",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即注册")]),t._v(" "),o("router-link",{staticClass:"signin fr",attrs:{to:"/signin"}},[t._v("登录 "),o("i",{staticClass:"el-icon-arrow-right"})])],1)],1)},staticRenderFns:[]};var a=o("VU/8")(s,r,!1,function(t){o("LO0P")},"data-v-4267cbc9",null);e.default=a.exports}});