webpackJsonp([8],{EbSo:function(t,e){},HqFw:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={data:function(){return{form:{loginName:"",password:"",p:""},rules:{loginName:[{validator:function(t,e,r){""===e?r(new Error("请输入手机号")):/^1[34578]\d{9}$/.test(e)?r():r(new Error("请输入真实的手机号"))},type:"number",trigger:"blur"}],password:[{validator:function(t,e,r){""===e?r(new Error("请输入密码")):/^.{6,12}$/.test(e)?r():r(new Error("密码必须为6~12位"))},trigger:"blur"}]},captcha_url:"/wristwatch/wat/getValidateCode?platform=5&t="+Date.now()}},methods:{onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(console.log(e),!e)return console.log("error submit!!"),!1;t.$store.dispatch("LoginByMobile",t.form).then(function(){t.$router.push(t.$route.query.redirect||"/")})})},getRegisterCode:function(){var t=this,e=!0;this.$refs.form.validateField("mobile",function(t){t&&(e=!1)}),this.$refs.form.validateField("captcha",function(t){t&&(e=!1)}),e&&this.$fetchPost({url:this.$api.GET_REGISTER_CODE,data:{mobile:this.form.mobile,validateCode:this.form.captcha}}).then(function(e){t.$message({message:e.msg,type:"success"})})}}},s={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-wrap"},[r("el-form",{ref:"form",staticClass:"sign-form signin-form fr",attrs:{rules:t.rules,model:t.form,"label-width":"22px"}},[r("p",{staticClass:"title"},[t._v("账号登录")]),t._v(" "),r("el-form-item",{attrs:{prop:"loginName"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("svg-icon",{attrs:{"icon-class":"my"}})],1),t._v(" "),r("el-input",{attrs:{type:"tel",placeholder:"手机号码"},model:{value:t.form.loginName,callback:function(e){t.$set(t.form,"loginName",e)},expression:"form.loginName"}})],1),t._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("svg-icon",{attrs:{"icon-class":"lock"}})],1),t._v(" "),r("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("el-button",{staticClass:"signin custom-bg",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("登录")]),t._v(" "),r("div",[r("router-link",{staticClass:"forget fl",attrs:{to:"/forget"}},[t._v("忘记密码？ ")]),t._v(" "),r("router-link",{staticClass:"signup fr",attrs:{to:"/signup"}},[t._v("立即注册"),r("i",{staticClass:"el-icon-arrow-right"})])],1)],1)],1)},staticRenderFns:[]};var a=r("VU/8")(o,s,!1,function(t){r("EbSo"),r("Vkei")},"data-v-7a395e22",null);e.default=a.exports},Vkei:function(t,e){}});