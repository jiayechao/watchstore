webpackJsonp([9],{"2a/b":function(t,e){},E4rR:function(t,e){},zHOx:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){var t=this;return{form:{mobile:"",resetCode:"",password:"",p:"",checkPass:""},rules:{mobile:[{validator:function(t,e,s){""===e?s(new Error("请输入手机号")):/^1[34578]\d{9}$/.test(e)?s():s(new Error("请输入真实的手机号"))},type:"number",trigger:"blur"}],captcha:[{validator:function(t,e,s){""===e?s(new Error("请输入右侧验证码")):/^\w{4}$/.test(e)?s():s(new Error("验证码只能是四位数字和字母"))},trigger:"blur"}],resetCode:[{required:!0,message:"请输入验证码",trigger:"blur"}],password:[{validator:function(e,s,a){""===s?a(new Error("请输入密码")):(""!==t.form.checkPass&&t.$refs.form.validateField("checkPass"),/^.{6,12}$/.test(s)?a():a(new Error("密码必须为6~12位")))},trigger:"blur"}],checkPass:[{validator:function(e,s,a){""===s?a(new Error("请再次输入密码")):s!==t.form.password?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}]},captcha_url:"/wristwatch/wat/getValidateCode?platform=5&t="+Date.now()}},methods:{againValidate:function(){this.captcha_url="/wristwatch/wat/getValidateCode?platform=5&t="+Date.now()},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(console.log(e),!e)return console.log("error submit!!"),!1;console.log(e),t.form.p=t.$md5(t.form.password),console.log(t.form.p),t.$fetchPost({url:t.$api.RESET_PWD,data:t.form}).then(function(e){t.$message({message:"重置成功，即将跳转到首页",type:"success"}),t.$tools.setItem("userInfo",e.data,!0),setTimeout(function(){this.$router.push("/")},3e3)})})},getRegisterCode:function(){var t=this,e=!0;this.$refs.form.validateField("mobile",function(t){t&&(e=!1)}),this.$refs.form.validateField("captcha",function(t){t&&(e=!1)}),e&&this.$fetchPost({url:this.$api.GET_REGISTER_CODE,data:{mobile:this.form.mobile,validateCode:this.form.captcha}}).then(function(e){console.log(e),t.$message.error(e.msg)})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-wrap"},[s("el-form",{ref:"form",staticClass:"signup-form",attrs:{rules:t.rules,model:t.form,"label-width":"22px"}},[s("p",{staticClass:"title"},[t._v("忘记密码")]),t._v(" "),s("el-form-item",{attrs:{prop:"mobile"}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("svg-icon",{attrs:{"icon-class":"my"}})],1),t._v(" "),s("el-input",{attrs:{type:"tel",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),t._v(" "),s("div",{staticClass:"inline-wrap"},[s("el-form-item",{staticClass:"inline-item",attrs:{prop:"captcha"}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("svg-icon",{attrs:{"icon-class":"yanzhengma"}})],1),t._v(" "),s("el-input",{attrs:{placeholder:"请输入右侧验证码"},model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}})],1),t._v(" "),s("img",{staticClass:"captcha fr",attrs:{src:t.captcha_url,alt:"验证码"},on:{click:t.againValidate}})],1),t._v(" "),s("div",{staticClass:"inline-wrap"},[s("el-form-item",{staticClass:"inline-item",attrs:{prop:"resetCode"}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("i",{staticClass:"el-icon-edit-outline"})]),t._v(" "),s("el-input",{attrs:{placeholder:"请输入验证码"},model:{value:t.form.resetCode,callback:function(e){t.$set(t.form,"resetCode",e)},expression:"form.resetCode"}})],1),t._v(" "),s("el-button",{staticClass:"register_code fr",attrs:{type:"primary"},on:{click:t.getRegisterCode}},[t._v("发送验证码")])],1),t._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("svg-icon",{attrs:{"icon-class":"unlock"}})],1),t._v(" "),s("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),s("el-form-item",{staticClass:"checkPass",attrs:{prop:"checkPass"}},[s("span",{attrs:{slot:"label"},slot:"label"},[s("svg-icon",{attrs:{"icon-class":"lock"}})],1),t._v(" "),s("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:t.form.checkPass,callback:function(e){t.$set(t.form,"checkPass",e)},expression:"form.checkPass"}})],1),t._v(" "),s("el-button",{staticClass:"signup",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即提交")])],1)],1)},staticRenderFns:[]};var o=s("VU/8")(a,r,!1,function(t){s("2a/b"),s("E4rR")},"data-v-44119879",null);e.default=o.exports}});